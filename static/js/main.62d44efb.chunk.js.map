{"version":3,"sources":["components/product-list-item/index.js","components/product-list-item/product-list-item.js","components/shop-service-context/shop-service.js","components/hoc/index.js","components/hoc/with-shop-service.js","components/spinner/index.js","components/spinner/spinner.js","components/product-list/product-list.js","actions/index.js","components/product-list/index.js","components/pages/home-page.js","components/pages/product-page.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-bounadry/index.js","components/error-bounadry/error-boundary.js","reducers/index.js","store.js","index.js","services/shop-service.js"],"names":["ProductListItem","title","product","React","createContext","ShopServiceProvider","Provider","ShopServiceConsumer","Consumer","withShopService","Wrapped","props","shopService","Spinner","ProductList","this","getAllProducts","then","data","console","log","productsLoaded","products","loading","map","key","id","Component","mapDispatchToProps","newProducts","type","payload","connect","HomePage","ProductPage","App","path","component","exact","ErrorIndicator","ErrorBoundary","state","hasError","error","errorInfo","setState","children","initialState","reducer","action","store","createStore","_apiBase","getResource","url","a","fetch","res","ok","Error","status","json","getProduct","addOrder","method","ReactDOM","render","value","basename","process","document","getElementById"],"mappings":"wTAEeA,ECAS,SAAC,GAAe,IAC9BC,EAD6B,EAAbC,QAChBD,MACR,OACE,kBAAC,WAAD,KACE,8BAAOA,K,ECDTE,IAAMC,gBAFEC,E,EAAVC,SACUC,E,EAAVC,SCFaC,ECCS,kBAAM,SAACC,GAC7B,OAAO,SAACC,GACN,OACE,kBAACJ,EAAD,MAEI,SAACK,GACC,OAAO,kBAACF,EAAD,iBAAaC,EAAb,CAAoBC,YAAaA,WCPrCC,G,MCCC,WACd,OAAO,0CCEHC,E,kLAEiB,IAAD,OACMC,KAAKJ,MAArBC,YACII,iBAAiBC,MAAK,SAAAC,GAChCC,QAAQC,IAAI,OACZ,EAAKT,MAAMU,eAAeH,Q,+BAIpB,IAAD,EACqBH,KAAKJ,MAA1BW,EADA,EACAA,SAAUC,EADV,EACUA,QAEjB,OADAJ,QAAQC,IAAIG,GACTA,GACDJ,QAAQC,IAAI,OACL,kBAAC,EAAD,OAGP,4BAEIE,EAASE,KAAI,SAACtB,GACZ,OACE,wBAAIuB,IAAKvB,EAAQwB,IAAK,kBAAC,EAAD,CAAiBxB,QAASA,a,GAtBpCyB,aAmCpBC,EAAqB,CACvBP,eCzCmB,SAACQ,GACtB,MAAO,CACLC,KAAM,kBACNC,QAASF,KCFEf,EF2CAL,IAAkBuB,aART,SAAC,GACvB,MAAO,CAACV,SADuC,EAAvBA,SACNC,QAD6B,EAAbA,WAQsBK,EAAzBI,CAA6ClB,IGrC/DmB,EALG,WAChB,OACE,kBAAC,EAAD,OCAWC,EAHM,WACnB,OAAO,8CCDMC,ECGH,WACV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,UAAWJ,EAAUK,OAAK,IAC1C,kBAAC,IAAD,CAAOF,KAAK,gBAAgBC,UAAWH,MCP9BK,G,MCCQ,WACrB,OAAO,wCCFMC,E,4MCGbC,MAAQ,CACNC,UAAU,G,gEAGMC,EAAOC,GACvB7B,KAAK8B,SAAS,CAACH,UAAU,M,+BAIzB,OAAG3B,KAAK0B,MAAMC,SACL,kBAAC,EAAD,MACF3B,KAAKJ,MAAMmC,a,GAbqBnB,a,gCCFrCoB,EAAe,CACnBzB,SAAU,GACVC,SAAS,GAgBIyB,EAZC,WAAmC,IAAlCP,EAAiC,uDAAzBM,EAAcE,EAAW,uCAChD,OAAQA,EAAOnB,MACb,IAAK,kBACH,MAAO,CACLR,SAAU2B,EAAOlB,QACjBR,SAAS,GAEb,QACE,OAAOkB,ICTES,EAFDC,YAAYH,GCMpBpC,EAAc,I,iDCRlBwC,SAAW,4C,KAEXC,Y,uCAAc,WAAOC,GAAP,eAAAC,EAAA,sEACMC,MAAM,GAAD,OAAI,EAAKJ,UAAT,OAAoBE,IAD/B,WACNG,EADM,QAGHC,GAHG,sBAIJ,IAAIC,MAAM,0BAAmBL,GAAnB,qBACAG,EAAIG,SALV,uBAOCH,EAAII,OAPL,mF,2DAUd7C,e,sBAAiB,sBAAAuC,EAAA,sEACF,EAAKF,YAAL,cADE,mF,KAIjBS,W,uCAAa,WAAOpC,GAAP,SAAA6B,EAAA,sEACE,EAAKF,YAAL,oBAA8B3B,EAA9B,MADF,mF,2DAIbqC,S,uCAAW,WAAO7C,GAAP,SAAAqC,EAAA,sEACI,EAAKF,YAAL,WAA6B,CACxCW,OAAQ,OACR9C,SAHO,mF,uDDVb+C,IAASC,OACP,kBAAC,IAAD,CAAUhB,MAAOA,GACf,kBAAC,EAAD,KACE,kBAAC7C,EAAD,CAAqB8D,MAAOvD,GAC1B,kBAAC,IAAD,CAAQwD,SAAUC,aAChB,kBAAC,EAAD,UAKRC,SAASC,eAAe,W","file":"static/js/main.62d44efb.chunk.js","sourcesContent":["import ProductListItem from \"./product-list-item\";\n\nexport default ProductListItem","import React, {Fragment} from \"react\";\n\nconst ProductListItem = ({product}) => {\n  const  {title} = product\n  return (\n    <Fragment>\n      <span>{title}</span>\n    </Fragment>\n  )\n}\n\nexport default ProductListItem","import React from \"react\";\n\nconst {\n  Provider: ShopServiceProvider,\n  Consumer: ShopServiceConsumer\n} = React.createContext()\n\nexport {ShopServiceConsumer, ShopServiceProvider}","import withShopService from \"./with-shop-service\";\n\nexport default withShopService","import React from \"react\";\nimport {ShopServiceConsumer} from \"../shop-service-context\";\n\nconst withShopService = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <ShopServiceConsumer>\n        {\n          (shopService) => {\n            return <Wrapped {...props} shopService={shopService} />\n          }\n        }\n      </ShopServiceConsumer>\n    )\n  }\n}\n\nexport default withShopService","import Spinner from \"./spinner\";\n\nexport default Spinner","import React from \"react\";\nimport './spinner.scss'\n\nconst Spinner = () => {\n  return <div>Spinner</div>\n}\n\nexport default Spinner","import React, {Component} from \"react\";\nimport ProductListItem from \"../product-list-item\";\nimport {connect} from \"react-redux\";\nimport withShopService from \"../hoc\";\nimport {productsLoaded} from '../../actions'\nimport Spinner from \"../spinner\";\nclass ProductList extends Component{\n\n  componentDidMount() {\n    const { shopService } = this.props\n    shopService.getAllProducts().then(data => {\n      console.log(12345)\n      this.props.productsLoaded(data)\n    })\n  }\n\n  render() {\n    const {products, loading} = this.props\n    console.log(loading)\n    if(loading){\n      console.log(23456)\n      return <Spinner/>\n    }\n    return (\n      <ul>\n        {\n          products.map((product) => {\n            return (\n              <li key={product.id} ><ProductListItem product={product}/></li>\n            )\n          })\n        }\n      </ul>\n    )\n  }\n}\n\nconst mapStateToProps = ({products, loading}) => {\n  return {products, loading}\n}\n\nconst mapDispatchToProps = {\n    productsLoaded\n}\n\nexport default withShopService()(connect(mapStateToProps, mapDispatchToProps)(ProductList))","\nconst productsLoaded = (newProducts) => {\n  return {\n    type: 'PRODUCTS_LOADED',\n    payload: newProducts\n  };\n};\n\nexport {\n  productsLoaded\n};\n","import ProductList from './product-list'\n\nexport default ProductList\n\n","import React from \"react\";\nimport ProductList from '../product-list'\n\nconst HomePage =  () => {\n  return (\n    <ProductList/>\n  )\n}\nexport default HomePage","import React from \"react\";\n\nconst ProductPage =  () => {\n  return <div>Product page</div>\n}\nexport default ProductPage","import App from \"./app\";\n\nexport default App","import React from \"react\";\nimport './app.scss'\nimport {Route, Switch} from 'react-router'\nimport {HomePage, ProductPage} from '../pages'\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path=\"/\" component={HomePage} exact/>\n      <Route path=\"/product/:id?\" component={ProductPage}/>\n    </Switch>\n  )\n}\n\nexport default App","import ErrorIndicator from \"./error-indicator\";\n\nexport default ErrorIndicator","import React from \"react\";\nimport './error-indicator.scss'\n\nconst ErrorIndicator = () => {\n  return <div>Error</div>\n}\n\nexport default ErrorIndicator","import ErrorBoundary from \"./error-boundary\";\n\nexport default ErrorBoundary","import React, {Component} from \"react\";\nimport ErrorIndicator from \"../error-indicator\";\n\nexport default class ErrorBoundary extends Component{\n\n  state = {\n    hasError: false,\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({hasError: true})\n  }\n\n  render() {\n    if(this.state.hasError)\n      return <ErrorIndicator/>\n    return this.props.children\n  }\n}","\nconst initialState = {\n  products: [],\n  loading: true,\n}\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'PRODUCTS_LOADED':\n      return {\n        products: action.payload,\n        loading: false\n      }\n    default:\n      return state\n  }\n}\n\nexport default reducer","import {createStore} from \"redux\";\n\nimport reducer from \"./reducers\";\n\nconst store = createStore(reducer);\n\nexport default store","import React from \"react\";\nimport ReactDOM from 'react-dom'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nimport App from \"./components/app\";\nimport ErrorBoundary from \"./components/error-bounadry\";\nimport ShopService from \"./services/shop-service\";\nimport {ShopServiceProvider} from \"./components/shop-service-context\";\nimport store from \"./store\";\nconst shopService = new ShopService()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <ShopServiceProvider value={shopService}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <App/>\n        </Router>\n      </ShopServiceProvider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n)","export default class ShopService {\n\n  _apiBase = 'https://majeste.pythonanywhere.com/api/v1';\n\n  getResource = async (url) => {\n    const res = await fetch(`${this._apiBase}${url}`);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}` +\n        `, received ${res.status}`)\n    }\n    return await res.json();\n  };\n\n  getAllProducts = async () => {\n    return await this.getResource(`/products/`)\n  };\n\n  getProduct = async (id) => {\n    return await this.getResource(`/products/${id}/`)\n  };\n\n  addOrder = async (data) => {\n    return await this.getResource(`/orders/`, {\n      method: \"POST\",\n      data\n    })\n  }\n\n}\n"],"sourceRoot":""}