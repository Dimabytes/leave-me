(this["webpackJsonpleave-me"]=this["webpackJsonpleave-me"]||[]).push([[0],{31:function(e,t,a){},36:function(e,t,a){e.exports=a(72)},46:function(e,t,a){},47:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),o=a.n(c),l=a(15),s=a(2),i=(a(45),a(46),a(5)),u=a(3),m=a(7),d=a(9),p=a(8),f=a(19),E=(a(47),a(31),a(25)),v=a.n(E),b=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).next=r.next.bind(Object(f.a)(r)),r.prev=r.prev.bind(Object(f.a)(r)),r}return Object(m.a)(a,[{key:"next",value:function(){this.slider.slickNext()}},{key:"prev",value:function(){this.slider.slickPrev()}},{key:"render",value:function(){var e=this,t=this.props.product,a=t.id,r=t.images;return n.a.createElement(s.b,{to:"/product/".concat(a),className:"col-lg-4 col-6 product-card"},n.a.createElement(v.a,Object.assign({ref:function(t){return e.slider=t}},{dots:!1,arrows:!1,accessibility:!1,slidesToShow:1,slidesToScroll:1,speed:0,fade:!0,cssEase:"linear"},{className:"card-title"}),r.map((function(t,a){return n.a.createElement("img",{onMouseOver:e.next,onMouseOut:e.prev,key:a,alt:"",src:t})}))))}}]),a}(r.Component),g=n.a.createContext(),_=g.Provider,h=g.Consumer,N=function(){return function(e){return function(t){return n.a.createElement(h,null,(function(a){return n.a.createElement(e,Object.assign({},t,{shopService:a}))}))}}},O=function(e,t){return function(){t({type:"FETCH_PRODUCTS_REQUEST"}),e.getAllProducts().then((function(e){return t({type:"FETCH_PRODUCTS_SUCCESS",payload:e})})).catch((function(e){return t(function(e){return{type:"FETCH_PRODUCTS_FAILURE",payload:e}}(e))}))}},y=function(e,t){return function(a){t({type:"FETCH_PRODUCT_REQUEST"}),e.getProduct(a).then((function(e){return t({type:"FETCH_PRODUCT_SUCCESS",payload:e})})).catch((function(e){return t(function(e){return{type:"FETCH_PRODUCT_FAILURE",payload:e}}(e))}))}},j=(a(64),function(){return n.a.createElement("div",{className:"lds-hourglass"})}),C=(a(65),function(){return n.a.createElement("div",{className:"error-alert"},n.a.createElement("h1",{className:"alert alert-danger"},"\u041e\u0448\u0438\u0431\u043a\u0430! \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"))}),k=a(14),w=function(e){var t=e.products;return n.a.createElement("div",{className:"container-xl products-grid"},n.a.createElement("div",{className:"row align-items-center justify-content-center"},t.map((function(e){return n.a.createElement(b,{key:e.id,product:e})}))))},T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props,t=e.products,a=e.loading;return e.error?n.a.createElement(C,null):a?n.a.createElement(j,null):n.a.createElement(w,{products:t})}}]),a}(r.Component),x=Object(k.b)(N(),Object(l.b)((function(e){return{products:e.products,loading:e.loading,error:e.error}}),(function(e,t){var a=t.shopService;return{fetchProducts:O(a,e)}})))(T),S=function(){return n.a.createElement("main",{className:"main-page"},n.a.createElement(x,null))},R=a(11);a(66);function D(e){var t=e.className,a=e.style,r=e.onClick;return n.a.createElement("div",{className:t,style:Object(R.a)({},a,{display:"block",background:"red"}),onClick:r})}function U(e){var t=e.className,a=e.style,r=e.onClick;return n.a.createElement("div",{className:t,style:Object(R.a)({},a,{display:"block",background:"green"}),onClick:r})}var P=function(e){var t=e.product,a=t.cost,r=t.title,c=t.images,o=t.sizes,l=t.description,i=t.structure,u=(t.id,e.onAddedToCart),m={slidesToShow:1,slidesToScroll:1,cssEase:"linear",nextArrow:n.a.createElement(D,null),prevArrow:n.a.createElement(U,null)};return n.a.createElement("main",{className:"product-page"},n.a.createElement("div",{className:"container-lg d-flex justify-content-center product__container"},n.a.createElement("div",{className:"row singe-product"},n.a.createElement("div",{className:"col-lg-7 col-md-7 col-12 images__product"},n.a.createElement(v.a,Object.assign({},m,{className:"card-title"}),c.map((function(e,t){return n.a.createElement("img",{key:t,alt:"",src:e})})))),n.a.createElement("div",{className:"offset-md-1 col-md-4 col-12 rounded info__product"},n.a.createElement("div",{className:"row"},n.a.createElement("h1",{className:"header__product"},r)),n.a.createElement("div",{className:"row"},n.a.createElement("h3",{className:"cost__product"},a," RUB")),n.a.createElement("div",{className:"row controls__product"},n.a.createElement("div",{className:"col6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control select__product"},o.map((function(e,t){return n.a.createElement("option",{key:t},e)}))))),n.a.createElement("div",{className:"col6"},n.a.createElement("div",{className:"btn btn-primary btn-product",onClick:u},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))),n.a.createElement("p",{className:"row text__product"},l),n.a.createElement("p",{className:"row text__product"},i),n.a.createElement("div",{className:"row"},n.a.createElement(s.b,{className:"link__product",to:"#"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432"))))))},F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.props.fetchProduct(this.props.itemId)}},{key:"render",value:function(){var e=this.props,t=e.product,a=e.loading,r=e.error,c=e.onAddedToCart;return r?n.a.createElement(C,null):a||!t?n.a.createElement(j,null):t?n.a.createElement(P,{product:t,onAddedToCart:c}):void 0}}]),a}(r.Component),A=Object(k.b)(N(),Object(l.b)((function(e){return{product:e.product,loading:e.loading,error:e.error}}),(function(e,t){var a=t.shopService;return{fetchProduct:y(a,e),onAddedToCart:function(){return e({type:"PRODUCT_ADDED_TO_CART"})}}})))(F),I=function(e){return"/leave-me"+e},H=(a(67),function(){return n.a.createElement("footer",{className:"container-fluid"},n.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-baseline"},n.a.createElement("div",{className:"p-2 d-flex justify-content-end w-7r"},n.a.createElement(s.b,{className:"link__footer",to:"#"},"Policy")),n.a.createElement("div",{className:"p-2 d-flex justify-content-center w-7r"},n.a.createElement("p",{className:"text__footer"},"Follow us")),n.a.createElement("div",{className:"p-2 links__footer d-flex justify-content-start w-7r"},n.a.createElement(s.b,{to:"#",className:"link__vk"},n.a.createElement("img",{className:"img__footer",alt:"vk",src:I("/img/vk.svg")})),n.a.createElement(s.b,{to:"#",className:"link__insta"},n.a.createElement("img",{alt:"instagram",src:I("/img/instagram.svg")})))),n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"p-2"},n.a.createElement("p",{className:"text__footer"},"\xa9Leave me 2020"))))}),L=function(e){var t=e.product,a=e.onIncrease,r=e.onDecrease,c=t.title,o=t.image,l=t.total,i=t.id,u=t.count;return n.a.createElement("div",{className:"row cart__row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("img",{alt:"product",src:o})),n.a.createElement("div",{className:"col-8 align-content-between d-flex justify-content-around flex-column"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-10"},n.a.createElement(s.b,{to:"/product/".concat(i)},c)),n.a.createElement("div",{className:"col-1"},n.a.createElement("img",{className:"close__product",src:I("/img/close.svg"),alt:"close"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6 count__sidebar"},n.a.createElement("p",null,n.a.createElement("img",{alt:"minus",onClick:function(){return r(i)},className:"control__sidebar left",src:I("/img/minus.svg")}),n.a.createElement("span",null,u," \u0448\u0442"),n.a.createElement("img",{alt:"plus",onClick:function(){return a(i)},className:"control__sidebar right",src:I("/img/more.svg")}))),n.a.createElement("div",{className:"col-6"},n.a.createElement("p",{className:"float-right"},l)))))},M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.orderTotal,a=e.cartItems,r=e.visible,c=e.toggleSidebar,o=e.onIncrease,l=e.onDecrease,i=r?"active":"";return n.a.createElement("div",{className:"sidebar-wrapper"},n.a.createElement("div",{className:"sidebar cart__sidebar ".concat(i)},n.a.createElement("div",{className:"sidebar__header col-12"},n.a.createElement("p",{className:"text-center text-uppercase"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),n.a.createElement("div",{className:"body__sidebar col-12"},a.map((function(e){return n.a.createElement(L,{key:e.id,product:e,onIncrease:o,onDecrease:l})}))),n.a.createElement("div",{className:"footer__sidebar col-12"},n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",{className:"text"},"\u0418\u0442\u043e\u0433\u043e: ",t,"\u0440"))),n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement(s.b,{to:"/",className:"btn btn-primary"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))),n.a.createElement("img",{className:"close__sidebar justify-content-center",onClick:c,src:I("/img/next.svg"),alt:"close"})))}}]),a}(r.Component),B=Object(l.b)((function(e){return{orderTotal:e.orderTotal,cartItems:e.cartItems}}),(function(){return{onIncrease:function(e){return console.log("Increase ".concat(e))},onDecrease:function(e){return console.log("Decrease ".concat(e))}}}))(M),Q=(a(68),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={sidebarVisible:!1},e.toggleSidebar=function(){e.setState({sidebarVisible:!e.state.sidebarVisible})},e}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement("nav",{className:"main-nav row align-items-center flex-nowrap"},n.a.createElement("div",{className:"col-4 offset-4 main-nav__logo"},n.a.createElement(s.b,{to:"/"},n.a.createElement("img",{src:I("/img/logo.svg"),alt:"logo"}))),n.a.createElement("div",{className:"col-4"},n.a.createElement("img",{className:"main-nav__cart-icon toggle-bag float-right",onClick:this.toggleSidebar,src:I("/img/bag.svg"),alt:"bag"}))),n.a.createElement(B,{toggleSidebar:this.toggleSidebar,visible:this.state.sidebarVisible}))}}]),a}(r.Component)),V=(a(69),a(70),function(){return n.a.createElement("div",{className:"not-found-alert"},n.a.createElement("h1",{className:"alert alert-warning"},"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0422\u044b \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e Leave Me."))}),J=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(Q,null),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",component:S,exact:!0}),n.a.createElement(i.a,{path:"/product/:id?",render:function(e){var t=e.match.params.id;return n.a.createElement(A,{itemId:t})}}),n.a.createElement(i.a,{component:V})),n.a.createElement(H,null))},z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={hasError:!1},e}return Object(m.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement(C,null):this.props.children}}]),a}(r.Component),W=a(13),q=a.n(W),G=a(20),K=a(35),X={products:[],loading:!0,orderTotal:300,error:null,cartItems:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_REQUEST":return Object(R.a)({},e,{products:[],error:null,loading:!0});case"FETCH_PRODUCTS_SUCCESS":return Object(R.a)({},e,{products:t.payload,error:null,loading:!1});case"FETCH_PRODUCTS_FAILURE":return Object(R.a)({},e,{products:[],error:t.payload,loading:!1});case"FETCH_PRODUCT_REQUEST":return Object(R.a)({},e,{product:null,error:null,loading:!0});case"FETCH_PRODUCT_SUCCESS":return Object(R.a)({},e,{product:t.payload,error:null,loading:!1});case"FETCH_PRODUCT_FAILURE":return Object(R.a)({},e,{product:null,error:t.payload,loading:!1});case"PRODUCT_ADDED_TO_CART":var a=e.product,r={title:a.title,image:a.images[0],id:a.id,count:1,total:a.cost};return Object(R.a)({},e,{cartItems:[].concat(Object(K.a)(e.cartItems),[r])});default:return e}},Z=Object(k.c)(Y),$=new function e(){var t=this;Object(u.a)(this,e),this._apiBase="https://majeste.pythonanywhere.com/api/v1",this.getResource=function(){var e=Object(G.a)(q.a.mark((function e(a){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllProducts=Object(G.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/products/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getProduct=function(){var e=Object(G.a)(q.a.mark((function e(a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/products/".concat(a,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addOrder=function(){var e=Object(G.a)(q.a.mark((function e(a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/orders/",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};o.a.render(n.a.createElement(l.a,{store:Z},n.a.createElement(z,null,n.a.createElement(_,{value:$},n.a.createElement(s.a,{basename:"/leave-me"},n.a.createElement(J,null))))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b9585e93.chunk.js.map