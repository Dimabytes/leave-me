(this["webpackJsonpleave-me"]=this["webpackJsonpleave-me"]||[]).push([[0],{34:function(e,t,a){e.exports=a(68)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),l=a(15),o=a(2),i=(a(43),a(6)),u=a(5),m=a(8),d=a(10),p=a(9),f=a(17),v=(a(44),a(45),a(31)),E=a.n(v),b=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(f.a)(n)),n.prev=n.prev.bind(Object(f.a)(n)),n}return Object(m.a)(a,[{key:"next",value:function(){this.slider.slickNext()}},{key:"prev",value:function(){this.slider.slickPrev()}},{key:"render",value:function(){var e=this,t=this.props.product,a=t.id,n=t.images;return r.a.createElement(o.b,{to:"/product/".concat(a),className:"col-lg-4 col-6 product-card"},r.a.createElement(E.a,Object.assign({ref:function(t){return e.slider=t}},{dots:!1,arrows:!1,accessibility:!1,slidesToShow:1,slidesToScroll:1,speed:0,fade:!0,cssEase:"linear"},{className:"card-title"}),n.map((function(t,a){return r.a.createElement("img",{onMouseOver:e.next,onMouseOut:e.prev,key:a,alt:"",src:t})}))))}}]),a}(n.Component),g=r.a.createContext(),h=g.Provider,N=g.Consumer,j=function(){return function(e){return function(t){return r.a.createElement(N,null,(function(a){return r.a.createElement(e,Object.assign({},t,{shopService:a}))}))}}},_=(a(62),function(){return r.a.createElement("div",null,"Spinner")}),O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.shopService.getAllProducts().then((function(t){e.props.productsLoaded(t)}))}},{key:"render",value:function(){var e=this.props,t=e.products,a=e.loading;return console.log(a),a?r.a.createElement(_,null):r.a.createElement("div",{className:"container-xl products-grid"},r.a.createElement("div",{className:"row align-items-center justify-content-center"},t.map((function(e){return r.a.createElement(b,{key:e.id,product:e})}))))}}]),a}(n.Component),y={productsLoaded:function(e){return{type:"PRODUCTS_LOADED",payload:e}}},x=j()(Object(l.b)((function(e){return{products:e.products,loading:e.loading}}),y)(O)),w=function(){return r.a.createElement("main",{className:"main-page"},r.a.createElement(x,null))},k=function(){return r.a.createElement("div",null,"Product page")},S=function(e){return"/leave-me"+e},C=(a(63),function(){return r.a.createElement("footer",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-baseline"},r.a.createElement("div",{className:"p-2 d-flex justify-content-end w-7r"},r.a.createElement(o.b,{className:"link__footer",to:"#"},"Policy")),r.a.createElement("div",{className:"p-2 d-flex justify-content-center w-7r"},r.a.createElement("p",{className:"text__footer"},"Follow us")),r.a.createElement("div",{className:"p-2 links__footer d-flex justify-content-start w-7r"},r.a.createElement(o.b,{to:"#",className:"link__vk"},r.a.createElement("img",{className:"img__footer",alt:"vk",src:S("/img/vk.svg")})),r.a.createElement(o.b,{to:"#",className:"link__insta"},r.a.createElement("img",{alt:"instagram",src:S("/img/instagram.svg")})))),r.a.createElement("div",{className:"d-flex flex-row justify-content-center"},r.a.createElement("div",{className:"p-2"},r.a.createElement("p",{className:"text__footer"},"\xa9Leave me 2020"))))}),P=function(e){var t=e.product,a=t.title,n=t.image,c=t.cost,s=t.id,l=t.count;return r.a.createElement("div",{className:"row cart__row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{alt:"product",src:n})),r.a.createElement("div",{className:"col-8 align-content-between d-flex justify-content-around flex-column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},r.a.createElement(o.b,{to:"/product/".concat(s)},a)),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{className:"close__product",src:S("/img/close.svg"),alt:"close"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 count__sidebar"},r.a.createElement("p",null,r.a.createElement("img",{alt:"minus",className:"control__sidebar left",src:S("/img/minus.svg")}),r.a.createElement("span",null,l," \u0448\u0442"),r.a.createElement("img",{alt:"plus",className:"control__sidebar right",src:S("/img/more.svg")}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"float-right"},c)))))},T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.orderTotal,a=e.cartItems,n=e.visible,c=e.toggleSidebar,s=n?"active":"";return r.a.createElement("div",{className:"sidebar-wrapper"},r.a.createElement("div",{className:"sidebar cart__sidebar ".concat(s)},r.a.createElement("div",{className:"sidebar__header col-12"},r.a.createElement("p",{className:"text-center text-uppercase"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),r.a.createElement("div",{className:"body__sidebar col-12"},a.map((function(e){return r.a.createElement(P,{key:e.id,product:e})}))),r.a.createElement("div",{className:"footer__sidebar col-12"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"text"},"\u0418\u0442\u043e\u0433\u043e: ",t,"\u0440"))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement(o.b,{to:"/",className:"btn btn-primary"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))),r.a.createElement("img",{className:"close__sidebar justify-content-center",onClick:c,src:S("/img/next.svg"),alt:"close"})))}}]),a}(n.Component),D=Object(l.b)((function(e){return{orderTotal:e.orderTotal,cartItems:e.cartItems}}))(T),A=(a(64),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={sidebarVisible:!1},e.toggleSidebar=function(){e.setState({sidebarVisible:!e.state.sidebarVisible})},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{className:"main-nav row align-items-center flex-nowrap"},r.a.createElement("div",{className:"col-4 offset-4 main-nav__logo"},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:S("/img/logo.svg"),alt:"logo"}))),r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{className:"main-nav__cart-icon toggle-bag float-right",onClick:this.toggleSidebar,src:S("/img/bag.svg"),alt:"bag"}))),r.a.createElement(D,{toggleSidebar:this.toggleSidebar,visible:this.state.sidebarVisible}))}}]),a}(n.Component)),R=(a(65),function(){return r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:w,exact:!0}),r.a.createElement(i.a,{path:"/product/:id?",component:k})),r.a.createElement(C,null))}),I=(a(66),function(){return r.a.createElement("div",null,"Error")}),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(m.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(I,null):this.props.children}}]),a}(n.Component),V=a(12),B=a.n(V),F=a(18),M=a(23),J=a(33),U={products:[],loading:!0,orderTotal:300,cartItems:[{title:"123456",image:"12345",cost:"123456",id:"123456",count:"23456"}]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_LOADED":return Object(J.a)({},e,{products:t.payload,loading:!1});default:return e}},z=Object(M.b)(q),G=new function e(){var t=this;Object(u.a)(this,e),this._apiBase="https://majeste.pythonanywhere.com/api/v1",this.getResource=function(){var e=Object(F.a)(B.a.mark((function e(a){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllProducts=Object(F.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/products/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getProduct=function(){var e=Object(F.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/products/".concat(a,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addOrder=function(){var e=Object(F.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/orders/",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.a.render(r.a.createElement(l.a,{store:z},r.a.createElement(L,null,r.a.createElement(h,{value:G},r.a.createElement(o.a,{basename:"/leave-me"},r.a.createElement(R,null))))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.680ceb16.chunk.js.map